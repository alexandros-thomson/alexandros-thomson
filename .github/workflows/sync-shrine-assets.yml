name: 🔄 Sync Shrine Assets

on:
  schedule:
    - cron: "*/30 * * * *"  # every 30 minutes
  workflow_dispatch:       # allows manual invocation
  push:
    paths:
      - 'public/**'         # only trigger if shrine assets change

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: 🜍 Check out Canon
        uses: actions/checkout@v4

      - name: ⚙️ Sync Assets to Shrine
        run: |
          echo "Binding public assets with latest canon state..."
          # Add your sync commands here, e.g., rsync, cp, or a Node.js script

      - name: 📜 Commit & Push if Updated
        run: |
          git config user.name "Shrine Keeper Bot"
          git config user.email "keeper@example.com"
          git add public/
          git commit -m "🜍 Refresh shrine assets" || echo "No changes to commit"
          git push
